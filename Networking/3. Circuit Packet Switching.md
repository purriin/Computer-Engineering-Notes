## 2.1 Packet-Switching Methods
**Network Core**: Packet/circuit switching, internet structure
- Mesh of interconnected routers

**Packet-Switching**: Host break application-layer messages into *packets*
- Forward packets from one router to the next, across links on path from source to destination
- Each packet transmitted at full link capacity
- 2 different methods:

1. **Store-and-Forward**
	- **Transmission Delay**: Takes L/R seconds to transmit (push out) L-bit packet into link at R bps
	- **Store and forward**: Entire packet must arrive at router before it can be transmitted on next link
	- **End-end delay**: # of links \* L/R, assuming 0 propagation delay

2. **Cut-Through**: The information about the destination is at the header of the packet
	- After the arrival of the header the route is found and the rest of the packet is transmitted, with no need for storing$$
	\text{end-end delay} = \frac{L}{R} = T \text{ (assuming 0 propagation delay)}$$
### 2.1.2 Examples
1. What is the total delay for store-and-forward and cut-through switching if there are N routers? 
	- Ans:
		- Store-and-Forward: (N+1)(T+τ)
		- Cut-Through: T + (N+1)τ
2. A file of size L=4000 Bytes is transmitted on an end-to-end connection over three links. The bit rate of all links is R=1000 bit/ sec. Ignore the propagation delay.
	- How long does it take for the file to be received at the destination if the whole file is transmitted as a single packet and the routers are store-and-forward and when they are cut-through? 
		- Ans: 32000
			- Store-and-Forward: 96 seconds
			- Cut-Through: 32 seconds
3. How long does it take to transmit the whole file if it is broken into 4 equal-size packets and each packet is transmitted independently?
	- Ans:
		- Store-and-Forward: 24 (from 1st packet) + 8\*3 (other 3 packets) = 48 seconds
		- Cut-Through: 32 seconds

## 2.2 Packet Switching Queuing Delay Loss
**Packet Queuing and Loss**: If arrival rate (in bps) to link exceeds transmission rate (bps) of link for a period of time:
- Packets will queue, waiting to be transmitted on output link
- Packets can be dropped (lost) if memory (buffer) in router fills up

## 2.3 2 Key Network-Core Functions
1. **Forwarding**:
	- *Local* action: move arriving packets from router's input link to appropriate router output link 
	- Local forwarding table with header value (Its identity) and output link (What router to go to)
		- Routing algorithm is the brain of the operation
2. **Routing**:
	- *Global* action: determine source-destination paths taken by packets
	- Routing algorithms

## 2.4 Circuit Switching
- Circuit switching is an alternative to packet switching
- Circuits: channels assigned
- end-end resources allocated to, *reserved* for "call" between source and destination
- Dedicated resources: no sharing
	- circuit-like (guaranteed) performance
- Circuit segment idle if not used by call (no sharing)
- Commonly used in traditional telephone networks

**Frequency Division Multiplexing (FDM)**:
- Optical, electromagnetic frequencies divided into (narrow) frequency bands
- Each call allocated its own band, can transmit at max rate of that narrow band
- Divides the frequencies, each user gets 1 channel

**Time Division Multiplexing (TDM)**:
- Time divided into slots
- Each call allocated periodic slot(s) can transmit at maximum rate of (wider) frequency band, but only during its time slot(s)

## 2.5 Packet Switching versus Circuit Switching
- Packet switching allows more users to use network

## 2.6 Internet Structure: a "Network of Networks"
- Question: given millions of access ISPs, how to connect them together?
- Option: connect each access ISP to one global transit ISP? Customer and provider ISPs have economic agreement.
- But if one global ISP is viable business, there will be competitors - who will want to be connected and regional networks may arise to connect access nets to ISPs
- And content provider networks (e.g., Google, Microsoft, Akamai) may run their own network, to bring services, content close to end users
- At “center”: small # of well-connected large networks
	- “tier-1” commercial ISPs (e.g., Level 3, Sprint, AT&T, NTT), national & international coverage
	- content provider networks (e.g., Google, Facebook): private network that connects its data centers to Internet, often bypassing tier-1, regional ISP