## 23.1 IPv6 Motivation
- Initial motivation: 32 bit IPv4 address space has been completely allocated
- Additional motivation:
	- Speed processing/forwarding: 40 byte fixed length header
	- Enable different network-layer treatment of "flows"
## 23.2 Transition from IPv4 to IPv6
- Not all routers can be upgraded simultaneously
	- No "flag days"
	- How will network operate with mixed IPv4 and IPv6 routers
- Tunneling: IPv6 datagram carried as *payload* in IPv4 datagram among IPv4 routers ("packet within a packet")
	- Tunneling used extensively in other contexts (4G/5G)
## 23.3 Generalized Forwarding: Match Plus Action
- Review: each router contains a forwarding table (AKA a flow table)
- "Match plus Action" abstraction: Match bits in arriving packet, take action
	- Destination-based forwarding: forward based on destination IP address
	- Generalized forwarding:
		- Many header fields can determine action
		- Many action possible: drop/copy/modify/log packet
## 23.4 Flow Table Abstraction
- Flow: defined by header field values (in link-, network-, transport-layer fields)
- Generalized forwarding: Simple packet-handling rules
	- Match: Pattern values in packet header fields
	- Actions: For matched packet: drop, forward, modify, matched packet or send matched packet to controller
	- Priority: Disambiguate overlapping patterns
	- Counters: # bytes and # packets
## 23.5 OpenFlow Abstraction
- Match+Action: Abstraction unifies different kinds of devices

**Router**
- Match: Longest destination IP prefix
- Action: Forward out a link
**Switch**
- Match: Destination MAC address
- Action: Forward or flood
**Firewall**
- Match: IP addresses and TCP/UDP port numbers
- Action: permit or deny
**NAT**
- Match: IP address and port
- Action: Rewrite address and port
## 23.6 Generalized Forwarding: Summary
- "Match Plus Action" Abstraction: Match bits in arriving packet header(s) on any layers, take action
	- Matching over many fields (link-, network-, transport-layer)
	- Local actions: drop, forward, modify or send matched packet to controller
	- "Program" network-wide behaviours
- Simple form or "network programmability"
	- Programmable, per-packet "processing"
	- Historical roots: active networking
	- today: More generalized programming